{
  "openapi": "3.0.0",
  "paths": {
    "/family-allowance": {
      "post": {
        "operationId": "add-family-allowance-case",
        "summary": "Add case",
        "description": "Add a family allowance case",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FamilyAllowance"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Result of creating a new family allowance case",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyAllowance"
                }
              }
            }
          }
        },
        "tags": [
          "family-allowance"
        ]
      },
      "get": {
        "operationId": "list-family-allowance-cases",
        "x-ibm-nl-intent-examples": [
          "get family allowance cases",
          "list family allowance cases"
        ],
        "x-ibm-next-actions": [
          {
            "skill_id": "Digital-PDS-API__1.0.2__get-family-allowance-case",
            "utterance": "show the family allowance case details"
          }
        ],
        "summary": "List cases",
        "description": "List the family allowance cases",
        "parameters": [
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "The status filter for the list",
            "explode": true,
            "x-ibm-label": "Status",
            "x-ibm-order": 1,
            "schema": {
              "enum": [
                "Ready for Review",
                "Needs Info",
                "Reviewed",
                "Approved",
                "Closed"
              ],
              "x-ibm-important": true,
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns list of family allowance cases",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyAllowanceListResult"
                }
              }
            }
          }
        },
        "tags": [
          "family-allowance"
        ]
      }
    },
    "/family-allowance/{id}": {
      "get": {
        "operationId": "get-family-allowance-case",
        "x-ibm-next-actions": [
          {
            "skill_id": "Digital-PDS-API__1.0.2__update-family-allowance-case",
            "utterance": "update the family allowance case"
          },
          {
            "skill_id": "Digital-PDS-API__1.0.2__family-allowance-case-needs-info",
            "utterance": "family allowance case needs info"
          },
          {
            "skill_id": "Digital-PDS-API__1.0.2__send-family-allowance-case-to-compensation",
            "utterance": "send the family allowance case to compensation office"
          },
          {
            "skill_id": "Digital-PDS-API__1.0.2__close-family-allowance-case",
            "utterance": "close the family allowance case"
          }
        ],
        "x-ibm-nl-intent-examples": [
          "get family allowance case"
        ],
        "summary": "Get case details",
        "description": "Get the family allowance case for the provided id",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The id of the case",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns selected case",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyAllowanceBasic"
                }
              }
            }
          }
        },
        "tags": [
          "family-allowance"
        ]
      },
      "post": {
        "operationId": "update-family-allowance-case",
        "summary": "Update case",
        "description": "Update the family allowance case identified by the provided id",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns updated case",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyAllowance"
                }
              }
            }
          }
        },
        "tags": [
          "family-allowance"
        ]
      }
    },
    "/family-allowance/{id}/summary": {
      "get": {
        "operationId": "get-family-allowance-case-summary",
        "x-ibm-next-actions": [
          {
            "skill_id": "Digital-PDS-API__1.0.2__update-family-allowance-case",
            "utterance": "update the family allowance case"
          },
          {
            "skill_id": "Digital-PDS-API__1.0.2__family-allowance-case-needs-info",
            "utterance": "family allowance case needs info"
          },
          {
            "skill_id": "Digital-PDS-API__1.0.2__send-family-allowance-case-to-compensation",
            "utterance": "send the family allowance case to compensation office"
          },
          {
            "skill_id": "Digital-PDS-API__1.0.2__close-family-allowance-case",
            "utterance": "close the family allowance case"
          }
        ],
        "summary": "Summarize case details",
        "description": "Get the family allowance case summary for the provided id",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The id of the case",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns selected case summary",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyAllowanceSummary"
                }
              }
            }
          }
        },
        "tags": [
          "family-allowance"
        ]
      }
    },
    "/family-allowance/{id}/docs": {
      "get": {
        "operationId": "get-family-allowance-case-docs",
        "summary": "Get case documents",
        "description": "Get the family allowance docs for the provided id",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The id of the case",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns docs for selected case",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyAllowanceDocListResult"
                }
              }
            }
          }
        },
        "tags": [
          "family-allowance"
        ]
      }
    },
    "/family-allowance/{id}/history": {
      "get": {
        "operationId": "get-family-allowance-case-history",
        "summary": "Get case history",
        "description": "Get the family allowance history for the provided id",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The id of the case",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns history for selected case",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyAllowanceHistoryListResult"
                }
              }
            }
          }
        },
        "tags": [
          "family-allowance"
        ]
      }
    },
    "/family-allowance/{id}/needsInfo": {
      "get": {
        "operationId": "family-allowance-case-needs-info",
        "summary": "Case needs info",
        "description": "Mark the family allowance case identified by the provided id as needing info",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "comment",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns updated case",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyAllowance"
                }
              }
            }
          }
        },
        "tags": [
          "family-allowance"
        ]
      }
    },
    "/family-allowance/{id}/sendToCompensation": {
      "get": {
        "operationId": "send-family-allowance-case-to-compensation",
        "summary": "Send case to compensation office",
        "description": "Send the family allowance case identified by the provided id to the compensation office",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "comment",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns updated case",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyAllowance"
                }
              }
            }
          }
        },
        "tags": [
          "family-allowance"
        ]
      }
    },
    "/family-allowance/{id}/approve": {
      "get": {
        "operationId": "approve-family-allowance-case",
        "summary": "Approve case",
        "description": "Approve the family allowance case identified by the provided id",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns updated case",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyAllowance"
                }
              }
            }
          }
        },
        "tags": [
          "family-allowance"
        ]
      }
    },
    "/family-allowance/{id}/close": {
      "get": {
        "operationId": "close-family-allowance-case",
        "summary": "Close case",
        "description": "Close the family allowance case identified by the provided id",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resolution",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns updated case",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FamilyAllowance"
                }
              }
            }
          }
        },
        "tags": [
          "family-allowance"
        ]
      }
    },
    "/family-allowance/{id}/upload": {
      "post": {
        "operationId": "add-family-allowance-case-document",
        "summary": "Add document to case",
        "description": "Add a document to the family allowance case identified by the provided id",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FamilyAllowanceDocument"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "family-allowance"
        ]
      }
    },
    "/family-allowance/{id}/doc/{docId}/{name}": {
      "get": {
        "operationId": "download-family-allowance-case-document",
        "summary": "Download document",
        "description": "Download a document from the family allowance case identified by the provided id",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "docId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "family-allowance"
        ]
      }
    }
  },
  "info": {
    "title": "Digital PDS API",
    "description": "APIs for Digital PDS service",
    "version": "1.0.2",
    "contact": {},
    "x-ibm-annotations": "true",
    "x-ibm-application-name": "Digital PDS API",
    "x-ibm-application-id": "digital-pds",
    "x-ibm-skill-type": "imported"
  },
  "tags": [],
  "servers": [
    {
      "url": "https://digital-pds-svc.19lft24df6mk.us-south.codeengine.appdomain.cloud"
    }
  ],
  "components": {
    "securitySchemes": {
      "basic": {
        "type": "http",
        "scheme": "basic"
      }
    },
    "schemas": {
      "Address": {
        "type": "object",
        "properties": {
          "addressLine1": {
            "type": "string",
            "title": "Address Line 1"
          },
          "addressLine2": {
            "type": "string",
            "title": "Address Line 2"
          },
          "canton": {
            "type": "string",
            "title": "Canton"
          },
          "city": {
            "type": "string",
            "title": "City"
          },
          "country": {
            "type": "string",
            "title": "Country"
          },
          "postalCode": {
            "type": "string",
            "title": "Postal Code"
          }
        },
        "required": [
          "addressLine1",
          "addressLine2",
          "canton",
          "city",
          "country",
          "postalCode"
        ]
      },
      "Employee": {
        "type": "object",
        "properties": {
          "employeeId": {
            "type": "string",
            "title": "Employee ID"
          },
          "firstName": {
            "type": "string",
            "title": "First Name"
          },
          "lastName": {
            "type": "string",
            "title": "Last Name"
          },
          "emailAddress": {
            "type": "string",
            "title": "Email Address"
          },
          "gender": {
            "type": "string",
            "title": "Gender"
          },
          "mailingAddress": {
            "title": "Address",
            "allOf": [
              {
                "$ref": "#/components/schemas/Address"
              }
            ]
          },
          "maritalStatus": {
            "type": "string",
            "title": "Marital Status",
            "enum": [
              "Married",
              "Divorced",
              "Not Married"
            ]
          },
          "phoneNumber": {
            "type": "string",
            "title": "Phone Number"
          },
          "relationshipToDependent": {
            "type": "string",
            "title": "Relationship to Dependent",
            "enum": [
              "Father",
              "Mother",
              "StepFather",
              "StepMother"
            ]
          }
        },
        "required": [
          "employeeId",
          "firstName",
          "lastName",
          "emailAddress",
          "gender",
          "mailingAddress",
          "maritalStatus",
          "phoneNumber",
          "relationshipToDependent"
        ]
      },
      "Person": {
        "type": "object",
        "properties": {
          "emailAddress": {
            "type": "string",
            "title": "Email Address",
            "format": "email"
          },
          "firstName": {
            "type": "string",
            "title": "First Name"
          },
          "gender": {
            "type": "string",
            "title": "Gender"
          },
          "lastName": {
            "type": "string",
            "title": "Last Name"
          },
          "mailingAddress": {
            "title": "Mailing Address",
            "allOf": [
              {
                "$ref": "#/components/schemas/Address"
              }
            ]
          },
          "maritalStatus": {
            "type": "string",
            "title": "Marital Status",
            "enum": [
              "Married",
              "Divorced",
              "Not Married"
            ]
          },
          "phoneNumber": {
            "type": "string",
            "title": "Phone Number",
            "format": "phone"
          }
        },
        "required": [
          "emailAddress",
          "firstName",
          "gender",
          "lastName",
          "mailingAddress",
          "maritalStatus",
          "phoneNumber"
        ]
      },
      "Dependent": {
        "type": "object",
        "properties": {
          "birthDate": {
            "type": "string",
            "title": "Birth Date",
            "format": "date"
          },
          "firstName": {
            "type": "string",
            "title": "First Name"
          },
          "lastName": {
            "type": "string",
            "title": "Last Name"
          },
          "father": {
            "title": "Father",
            "allOf": [
              {
                "$ref": "#/components/schemas/Person"
              }
            ]
          },
          "gender": {
            "type": "string",
            "title": "Gender"
          },
          "livesWithApplicant": {
            "type": "boolean",
            "title": "Lives with Applicant"
          },
          "mother": {
            "title": "Mother",
            "allOf": [
              {
                "$ref": "#/components/schemas/Person"
              }
            ]
          },
          "relationshipToApplicant": {
            "type": "string",
            "title": "Relationship to applicant",
            "enum": [
              "Father",
              "Mother",
              "StepFather",
              "StepMother"
            ]
          }
        },
        "required": [
          "birthDate",
          "firstName",
          "lastName",
          "father",
          "gender",
          "livesWithApplicant",
          "mother",
          "relationshipToApplicant"
        ]
      },
      "Activity": {
        "type": "object",
        "properties": {
          "actor": {
            "type": "string"
          },
          "comment": {
            "type": "string"
          },
          "timestamp": {
            "type": "string"
          },
          "type": {
            "type": "string"
          }
        },
        "required": [
          "actor",
          "comment",
          "timestamp",
          "type"
        ]
      },
      "FamilyAllowanceDocument": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "url": {
            "type": "string"
          },
          "id": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "type",
          "url",
          "id"
        ]
      },
      "FamilyAllowance": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "title": "ID"
          },
          "applicant": {
            "title": "Applicant",
            "allOf": [
              {
                "$ref": "#/components/schemas/Employee"
              }
            ]
          },
          "spouse": {
            "type": "object",
            "title": "Spouse"
          },
          "changeType": {
            "type": "string",
            "title": "Change Type"
          },
          "dependents": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Dependent"
            }
          },
          "status": {
            "type": "string",
            "title": "Status",
            "enum": [
              "Ready for Review",
              "Needs Info",
              "Reviewed",
              "Approved",
              "Closed"
            ]
          },
          "lastName": {
            "type": "string",
            "title": "Last Name"
          },
          "history": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Activity"
            }
          },
          "supportingDocuments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FamilyAllowanceDocument"
            }
          }
        },
        "required": [
          "id",
          "applicant",
          "changeType",
          "dependents",
          "status",
          "lastName",
          "history",
          "supportingDocuments"
        ]
      },
      "FamilyAllowanceMinimal": {
        "type": "object",
        "properties": {
          "changeType": {
            "x-ibm-order": 6,
            "x-ibm-show": true,
            "type": "string",
            "title": "Change type"
          },
          "dependentNames": {
            "x-ibm-order": 7,
            "x-ibm-show": true,
            "type": "string",
            "title": "Dependent name(s)"
          },
          "employeeId": {
            "x-ibm-order": 4,
            "x-ibm-show": true,
            "type": "string",
            "title": "Employee id"
          },
          "firstName": {
            "x-ibm-order": 2,
            "x-ibm-show": true,
            "type": "string",
            "title": "First name"
          },
          "id": {
            "x-ibm-order": 1,
            "x-ibm-show": true,
            "type": "string",
            "title": "Id"
          },
          "lastName": {
            "x-ibm-order": 3,
            "x-ibm-show": true,
            "type": "string",
            "title": "Last name"
          },
          "status": {
            "x-ibm-order": 5,
            "x-ibm-show": true,
            "type": "string",
            "title": "Status"
          }
        },
        "required": [
          "changeType",
          "dependentNames",
          "employeeId",
          "firstName",
          "id",
          "lastName",
          "status"
        ]
      },
      "FamilyAllowanceCases": {
        "type": "array",
        "title": "Family Allowance Cases",
        "x-item-label": "Family Allowance Cases",
        "items": {
          "$ref": "#/components/schemas/FamilyAllowanceMinimal"
        }
      },
      "FamilyAllowanceListResult": {
        "type": "object",
        "properties": {
          "instances": {
            "title": "Results",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FamilyAllowanceMinimal"
            }
          }
        },
        "required": [
          "instances"
        ]
      },
      "FamilyAllowanceBasic": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "title": "ID"
          },
          "applicant": {
            "title": "Applicant",
            "allOf": [
              {
                "$ref": "#/components/schemas/Employee"
              }
            ]
          },
          "spouse": {
            "type": "object",
            "title": "Spouse"
          },
          "changeType": {
            "type": "string",
            "title": "Change Type"
          },
          "dependents": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Dependent"
            }
          },
          "status": {
            "type": "string",
            "title": "Status",
            "enum": [
              "Ready for Review",
              "Needs Info",
              "Reviewed",
              "Approved",
              "Closed"
            ]
          },
          "lastName": {
            "type": "string",
            "title": "Last Name"
          }
        },
        "required": [
          "id",
          "applicant",
          "changeType",
          "dependents",
          "status",
          "lastName"
        ]
      },
      "FamilyAllowanceSummary": {
        "type": "object",
        "properties": {
          "summary": {
            "type": "string",
            "title": "Family Allowance Case"
          }
        },
        "required": [
          "summary"
        ]
      },
      "FamilyAllowanceDocListResult": {
        "type": "object",
        "properties": {
          "instances": {
            "title": "Results",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FamilyAllowanceDocument"
            }
          }
        },
        "required": [
          "instances"
        ]
      },
      "FamilyAllowanceHistoryListResult": {
        "type": "object",
        "properties": {
          "instances": {
            "title": "Results",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Activity"
            }
          }
        },
        "required": [
          "instances"
        ]
      }
    }
  }
}